var result1 = t"\
<% var i = 0; while( i < 3 ) ( %>
i is now: <%= i %>
<% i = i + 1 ) %>
";

var text = "i is now";

var template = ( count, par ) => t"""\
	|<%= par %>
	<% var i = 0; while( i < count ) ( %>
	|${text}: ${i}
	<% i = i + 1 ) %>
""".stripMargin();

var pageTemplate = ( body ) => t"""\
	<html>
		<body>
			<%= body() %>
		</body>
	</html>
""";

var page = ( name ) => t"""\
	<% pageTemplate( () => ( %>
		<p>Hello ${name}!</p>
	<% ) ); %>
""";

println( page( "Ren√©" ) );

( result1, template( 3, "Now as lambda" ) )
